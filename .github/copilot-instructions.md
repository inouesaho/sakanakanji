# GitHub Pages デプロイ時の注意点

このドキュメントは、GitHub PagesでVite + Vue.jsプロジェクトをデプロイする際の重要な注意点をまとめたものです。

## ベースパスの設定

GitHub Pagesでは、アセットのパスがリポジトリ名を含むベースパスから始まる必要があります。

### vite.config.jsの設定

```javascript
export default defineConfig({
  base: '/リポジトリ名/',  // 例: '/sakanakanji/'
  // ... その他の設定 ...
})
```

## 静的アセット（JSONなど）のパス解決

静的ファイル（JSONなど）へのフェッチリクエストも、ベースパスを考慮する必要があります。

### 正しいパスの例

```javascript
// 誤った例
fetch('/data.json')

// 正しい例
fetch('/リポジトリ名/data.json')  // 例: '/sakanakanji/fish-kanji.json'
```

## デプロイ時のチェックリスト

1. **ビルド出力の確認**
   - `dist`フォルダに必要なファイルが全て含まれているか
   - 静的アセットが正しくコピーされているか

2. **パスの確認**
   - `vite.config.js`のベースパスが正しく設定されているか
   - コード内の静的アセットのパスがベースパスを考慮しているか

3. **デプロイ後の確認**
   - GitHub ActionsまたはPages設定でデプロイが完了するまで待つ（数分程度）
   - ブラウザのキャッシュをクリアして動作確認

## トラブルシューティング

1. **404エラーが発生した場合**
   - ブラウザの開発者ツールでエラーメッセージを確認
   - アセットのパスにリポジトリ名が含まれているか確認
   - GitHub Pagesの設定が正しいか確認

2. **アセットが読み込めない場合**
   - パスが正しく設定されているか確認
   - `public`フォルダ内のファイルが`dist`にコピーされているか確認
   - ブラウザのキャッシュをクリアして再試行

## 備考

- これらの設定は、GitHub Pagesで静的サイトをホストする際の一般的な注意点です
- プロジェクトの構造やニーズに応じて適宜調整してください
- 問題が解決しない場合は、GitHub Actionsのログを確認することも有効です